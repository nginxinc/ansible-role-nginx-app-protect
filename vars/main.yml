---
# Populate this dictionary of lists with appropriate values from ansible_facts['distribution'] and ansible_facts['distribution_version'] facts
nginx_app_protect_linux_families:
  centos: [
    7.4, 7.5, 7.6, 7.7, 7.8, 7.9,
  ]
  redhat: [
    7.4, 7.5, 7.6, 7.7, 7.8, 7.9,
  ]
  debian: [
    9.0, 9.1, 9.2, 9.3, 9.4, 9.5, 9.6, 9.7, 9.8, 9.9, 9.10, 9.11, 9.12, 9.13, 10.0, 10.1, 10.2, 10.3, 10.4, 10.5, 10.6, 10.7,
  ]
  ubuntu: [
    18.04,
  ]
  alpine: [
    3.10,
  ]

# (Optional) Specify repository for NGINX App Protect.
# Defaults are the official NGINX repositories.
# nginx_app_protect_repository: deb [arch=amd64] https://plus-pkgs.nginx.com/debian buster nginx-plus

# Choose where to fetch the NGINX App Protect and Security Updates signing keys from.
# Default settings are the official NGINX signing key hosts.
nginx_app_protect_default_signing_key:
  nginx_plus: https://cs.nginx.com/static/keys/nginx_signing.key
  security_updates: https://cs.nginx.com/static/keys/app-protect-security-updates.key

# Default NGINX App Protect repositories
nginx_app_protect_default_repository_alpine: "https://plus-pkgs.nginx.com/alpine/v{{ ansible_facts['distribution_version'] | regex_search('^[0-9]+\\.[0-9]+') }}/main"
nginx_app_protect_default_repository_debian: "deb [arch=amd64] https://plus-pkgs.nginx.com/{{ ansible_facts['distribution'] | lower }} {{ ansible_facts['distribution_release'] }} nginx-plus"
nginx_app_protect_default_repository_redhat: "https://plus-pkgs.nginx.com/centos/{{ ansible_facts['distribution_major_version'] }}/$basearch/"

# Default NGINX App Protect Security Updates repositories
nginx_app_protect_security_updates_default_repository_alpine: "https://app-protect-security-updates.nginx.com/alpine/v{{ ansible_facts['distribution_version'] | regex_search('^[0-9]+\\.[0-9]+') }}/main"
nginx_app_protect_security_updates_default_repository_debian: "deb [arch=amd64] https://app-protect-security-updates.nginx.com/{{ ansible_facts['distribution'] | lower }} {{ ansible_facts['distribution_release'] }} nginx-plus"
nginx_app_protect_security_updates_default_repository_redhat: "https://app-protect-security-updates.nginx.com/centos/{{ ansible_facts['distribution_major_version'] }}/$basearch/"
